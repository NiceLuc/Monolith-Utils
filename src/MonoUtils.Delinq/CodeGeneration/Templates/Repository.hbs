using System;{{#newline}}
using System.Data;{{#newline}}
using System.Collections.Generic;{{#newline}}
using UCN.Common;{{#newline}}
using UCN.Common.SQL.Interfaces;{{#newline}}
{{#newline}}
namespace {{Namespace}}{{#newline}}
{ {{#newline}}
	public class {{ContextName}}Repository : I{{ContextName}}Repository{{#newline}}
	{ {{#newline}}
        private readonly ISQLQueryFactory _factory;{{#newline}}
        private readonly I{{ContextName}}RepositorySettings _settings;{{#newline}}
        {{#newline}}
		public {{ContextName}}Repository(I{{ContextName}}RepositorySettings settings, ISQLQueryFactory factory){{#newline}}
        { {{#newline}}
            _factory = factory;{{#newline}}
            _settings = settings;{{#newline}}
        } {{#newline}}
        {{#newline}}
{{#each Methods}}
        {{this}}{{#newline}}
        {{#newline}}
{{/each}}
        #region Private Methods{{#newline}}
        {{#newline}}
        private ISQLQueryEx CreateQuery() => _factory.CreateEx(_settings.ConnectionString);{{#newline}}
        {{#newline}}
        #endregion{{#newline}}
	} {{#newline}}
}
